<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="remark,remarkjs,markdown,slideshow,presentation" />
    <meta name="description" content="A simple, in-browser, markdown-driven slideshow tool." />
    <title>Retour d'expérience sur la revue de code</title>
    <link rel="stylesheet" type="text/css" href="theme.css">
  </head>
  <body>
    <textarea id="source">

name: inverse
layout: true
class: center, middle, inverse

---
# Retour d'expérience sur la revue de code
## Sébastien Douche / @sdouche

### https://github.com/sdouche/presentation-revue-code

---
layout: false

.left-column[
  ## Qui suis je ?
]
.right-column[
  40 ans. Français. J'aime comprendre et résoudre des problèmes.

- Geek depuis 1984

- Fan de Logiciels Libres depuis 1995

- Développeur (Python, Go)

- Sysadmin (Linux / BSD)

- Intéressé par le Lifehacking

- Adore les jeux de sociétés modernes

- Motard (Honda CBR RR)

- Aime l'humour noir, le second degré et les blagues pourries
]

---
template: inverse
# Objectif de cette présentation

---
class: center, middle
## Donner un aperçu (de mon point de vue) de l'apport de la revue de code systématique dans une ancienne expérience (sur une période de 7 ans)

---
# Au programme

1. Définition
2. Pourquoi avoir tenté la revue de code ?
3. Les bénéfices observés
4. Les difficultés rencontrées
5. Comment les surmonter ?
6. Différence entre revue a chaud et a froid
7. Les bonnes pratiques coté développeur
8. Les bonnes pratiques coté relecteur
9. Conclusion

---
template: inverse
# Définition

---
class: center, middle
## La revue de code (code review ou peer review) est l'étude de code source. Le but est de trouver et de fixer des erreurs pour améliorer la **qualité** du logiciel et les **compétences** des développeurs

---
template: inverse
# Pourquoi avoir tenté la revue de code ?

---
class: center, middle
## Car on pensait que c'est un **investissement** intéressant

---
## Plusieurs types de revue

A chaud
  - Over-the-shoulder
  - Pair programming

A froid (pré ou post commit)
  - Avec un outil
  - Processus formel (Fagan, IEEE Std 1028...)

---
template: inverse
# Les bénéfices observés

---
class: center, middle
## Diminution de la boucle de feedback

---
class: center, middle
## Apprentissage de la lecture de code
### (mais avec la présence du développeur)

---
class: center, middle
## Apprentissage de la critique de code

---
class: center, middle
## Amélioration de ses pratiques

---
class: center, middle
## Augmentation de la motivation et plus grande gratification

---
class: center, middle
## Un plus grand sentiment de sécurité

---
class: center, middle
## Afficher notre volonté d'amélioration

---
class: center, middle
## Augmentation de la qualité

---
class: center, middle
## Réduction importante du coût des erreurs
## (effort, temps...)

---
class: center, middle
## Plus grande collaboration et de discution autour du code

---
class: center, middle
## Alignement de l'équipe, convergence vers des conventions (architecture, code)

---
class: center, middle
## Diffusion la notion de propriété collective du code

---
class: center, middle
## Partage de la connaissance

---
class: center, middle
## Facilition de l'intégration de nouveaux développeurs

---
class: center, middle
## Meilleure identification collective des problèmes

---
template: inverse
# Les difficultés rencontrées

---
class: center, middle
## On peut se sentir coupable de prendre du temps pour la revue

---
class: center, middle
## Pas de silver-bullet

---
class: center, middle
## Pas facile d'accepter la critique

![Default-aligned image](img/firstimpression.png)

---
class: center, middle
## Pas facile de se remettre en cause et de montrer ses faiblesses

---
class: center, middle
## Effet Big Brother

---
class: center, middle
## On n'aime pas lire du code des autres

![Default-aligned image](img/tired.jpg)

---
class: center, middle
## Il faut comprendre leur cheminement intellectuel

---
class: center, middle
## Il faut s'aligner avec les autres
### (pire faire des compromis)

---
template: inverse
## Comment les surmonter ?

---
class: center, middle
## C'est un travail coopératif, le relecteur est un sparring-partner

---
class: center, middle
## La revue de code n'est pas une note ni une sanction mais une **itération** collective

---
class: center, middle
## Le code va continuer de vivre sans moi
### (on est le géniteur, pas le propriétaire)

---
class: center, middle
## Il faut travailler sa bienveillance

---
class: center, middle
![Default-aligned image](img/positive.jpg)

---
class: center, middle
## Apprendre à se remettre en cause

---
class: center, middle
## Définir des conventions

---
template: inverse
## Différence entre revue a chaud et a froid

---
class: middle

La revue à chaud permet :

- de critiquer plus facilement
- une interaction plus forte
- d'être plus en amont du développement

La revue à froid.red[*] permet :

- de vérifier qu'une personne externe au processus de création comprenne
- une vérification plus formelle

.footnode[.red[*] La revue de type pré-commit est beaucoup plus intéressante]

---
template: inverse
# Les bonnes pratiques coté développeur

---
class: center, middle
![](img/wtf.png)

---
class: center, middle
## Avoir des conventions
### (vocabulaire, code...)

---
class: center, middle
## Avoir des tests unitaires
### (cas nominaux, limites, erreurs)

---
class: center, middle
## Documenter le «pourquoi»

---
class: center, middle
## Réfléchir à ce que l'on partage
### (commit unitaire, message de commit...)

---
class: center, middle
## Certains principes de conception favorise la lisibilité du code
### (complexité cyclomatique, niveau d'abstraction, immutabilité...)

---
template: inverse
# Les bonnes pratiques coté relecteur

---
class: middle
## Essayer d'être précis

Un code est :

- compréhensible
- rapide
- simple
- consistent
- fiable
- sûr
- redondant
- suis les conventions
- modulaire
- documenté
- testé
- dupliqué

Expliquer pourquoi et donner des exemples

---
class: center, middle
## Lire moins de 200-400 lignes

---
class: center, middle
## Ne pas dépasser 60-90 minutes

---
class: center, middle
## Utiliser des checklists

---
template: inverse
# Conclusion

---
class: center, middle
## La pratique de revue de code est devenue, de l'avis de tous les développeurs une pratique incontournable

---
template: inverse
# Pour aller plus loin

---
- 11 Best Practices for PeerCode Review (10 pages)
http://smartbear.com/SmartBear/media/pdfs/WP-CC-11-Best-Practices-of-Peer-Code-Review.pdf

- Best Kept Secrets of Peer Code Review (159 pages)
http://smartbear.com/SmartBear/media/pdfs/best-kept-secrets-of-peer-code-review.pdf

- What We Have Learned About Fighting Defects (10 pages)
https://kev.inburke.com/docs/shull_defects.pdf

- Peer Reviews in Software: A Practical Guide
http://www.amazon.com/exec/obidos/ASIN/0201734850/

---
name: last-page
template: inverse

## That's all folks!

    </textarea>
    <script src="remark-0.10.2.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var hljs = remark.highlighter.engine;
    </script>
    <script src="remark.language.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
          highlightStyle: 'sunburst',
          highlightLanguage: 'remark'
        }) ;
    </script>
  </body>
</html>
